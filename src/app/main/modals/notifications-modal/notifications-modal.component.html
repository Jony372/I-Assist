<div id="notifications-modal" tabindex="-1" aria-hidden="true" class="hidden
  overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center
  items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
  <div class="relative p-4 w-full max-w-lg max-h-full">
      <!-- Modal content -->
      <div class="relative bg-white rounded-lg shadow ">
          <!-- Modal header -->
          <div class="flex items-center justify-between p-4 md:p-5 border-b
            rounded-t ">
              <h3 class="text-lg font-semibold text-gray-900 ">
                  Notificaciones
              </h3>
              <button (click)="modal.hide()" type="button" class="text-gray-400
                bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg
                text-sm h-8 w-8 ms-auto inline-flex justify-center items-center ">
                  <svg class="w-3 h-3" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 14 14">
                      <path stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0
                        6 6M7 7l6-6M7 7l-6 6"/>
                  </svg>
                  <span class="sr-only">Cerrar</span>
              </button>
          </div>
          <!-- Modal body -->
          <div class="p-4 md:p-5">
              
            <ul id="notifications" class="flex flex-col gap-2">
              @for (noti of notifications; track $index) {

                <li [id]="'notification-' + $index" class="text-black">
                  <div class="{{colorNotification(noti.is_read)}} flex flex-col
                    items-center justify-between w-full p-5 font-medium
                    rtl:text-right  border border-gray-200 rounded-xl
                    focus:ring-4 focus:ring-gray-200">
                    <div class="flex w-full justify-between mb-1">
                      <p class="flex items-center">
                        @if (!noti.is_read) {
                          <svg class="w-5 h-5 me-2 shrink-0" fill="currentColor"
                            viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8
                              8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3
                              3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2
                              0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1
                              0 000 2z" clip-rule="evenodd">
                            </path>
                          </svg>
                        }
                        {{noti.title}}
                      </p>
                      <button (click)="!noti.is_read ? read(noti._id):''"
                        [title]="noti.is_read?'Leido':'Marcar como leido'">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5
                          {{noti.is_read?'text-primary':''}}" viewBox="0 0
                          1200 1200">
                          <path fill="currentColor" d="M600 0C268.629
                            0 0 268.629 0 600s268.629 600 600 600s600-268.629
                            600-600S931.371 0 600 0zm257.446 281.03l124.657
                            124.658l-389.354 389.43L468.823 918.97L344.165
                            794.312l-126.27-126.344l123.853-123.853l126.27
                            126.343L857.446 281.03z"/>
                        </svg>
                      </button>
                    </div>
                    <p class="w-full text-gray-700">{{noti.message}}</p>
                  </div>
                </li>
              }
            </ul>

          </div>
      </div>
  </div>
</div>